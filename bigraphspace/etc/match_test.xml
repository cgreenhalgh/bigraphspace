<?xml version="1.0" encoding="UTF-8"?>
<tests>
	<!-- simple match -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="0" />
					</PhysicalHandheld>
					<PhysicalRoom _support="_PR1">
						<site index="1" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1"></PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- 2x2 options match -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="0" />
					</PhysicalHandheld>
					<PhysicalRoom _support="_PR1">
						<site index="1" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1"></PhysicalRoom>
					<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					<PhysicalRoom _support="PR2"></PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR2"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PR1" target="PR2"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- sibling constraint -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="0" />
					</PhysicalHandheld>
					<PhysicalRoom _support="_PR1">
						<site index="1" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- parent constraint -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalRoom _support="_PR1">
						<site index="1" />
						<PhysicalHandheld _support="_PH1">
							<site index="0" />
						</PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- uniqueness constraint -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="0" />
					</PhysicalHandheld>
					<PhysicalHandheld _support="_PH2">
						<site index="1" />
					</PhysicalHandheld>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					<PhysicalHandheld _support="PH3"></PhysicalHandheld>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PH2" target="PH1"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH3"/>
			<nodematch pattern="_PH2" target="PH1"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PH2" target="PH2"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH3"/>
			<nodematch pattern="_PH2" target="PH2"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PH2" target="PH3"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PH2" target="PH3"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- constant match -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalBluetooth _support="_BT1" btaddress="&quot;00:00:00:00:00:01&quot;">
						<site index="0" />
					</PhysicalBluetooth>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalBluetooth _support="BT1" btaddress="&quot;00:00:00:00:00:01&quot;"/>
					<PhysicalBluetooth _support="BT2" btaddress="&quot;00:00:00:00:00:02&quot;"/>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_BT1" target="BT1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- simple link match -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<DescriptionRoom _support="_DR1" identifier="_identifiers">
						<site index="0" />
					</DescriptionRoom>
					<DescriptionBluetooth _support="_DB1" associatedwith="_identifiers"/>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<DescriptionRoom _support="DR1" identifier="identifiers1"/>
					<DescriptionBluetooth _support="DB1" associatedwith="identifiers1"/>
					<DescriptionRoom _support="DR2" identifier="identifiers2"/>
					<DescriptionBluetooth _support="DB2" associatedwith="identifiers2"/>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_DR1" target="DR1"/>
			<nodematch pattern="_DB1" target="DB1"/>
			<linkmatch pattern="_identifiers" target="identifiers1"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_DR1" target="DR2"/>
			<nodematch pattern="_DB1" target="DB2"/>
			<linkmatch pattern="_identifiers" target="identifiers2"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- merge link match -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<DescriptionBluetooth _support="_PH1" associatedwith="_associatedwith">
						<site index="0" />
					</DescriptionBluetooth>
					<DescriptionRoom _support="_PR1" identifier="_identifiers">
						<site index="1" />
					</DescriptionRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<DescriptionBluetooth _support="PH1" associatedwith="identifier1"></DescriptionBluetooth>
					<DescriptionRoom _support="PR1" identifier="identifier1"></DescriptionRoom>
					<DescriptionBluetooth _support="PH2" associatedwith="identifier2"></DescriptionBluetooth>
					<DescriptionRoom _support="PR2" identifier="identifier2"></DescriptionRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<linkmatch pattern="_associatedwith" target="identifier1"/>
			<linkmatch pattern="_identifiers" target="identifier1"/>
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PR1" target="PR1"/>
			<linkmatch pattern="_associatedwith" target="identifier2"/>
			<linkmatch pattern="_identifiers" target="identifier1"/>
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH1"/>
			<nodematch pattern="_PR1" target="PR2"/>
			<linkmatch pattern="_associatedwith" target="identifier1"/>
			<linkmatch pattern="_identifiers" target="identifier2"/>
		</match>
		<match>
			<nodematch pattern="_PH1" target="PH2"/>
			<nodematch pattern="_PR1" target="PR2"/>
			<linkmatch pattern="_associatedwith" target="identifier2"/>
			<linkmatch pattern="_identifiers" target="identifier2"/>
		</match>
	</test>
	<!-- edge (non-)match -->
	<test>
		<pattern>
			<bigraph>
				<!-- edge not outer name -->
				<edge id="_identifiers"/>
				<root>
					<DescriptionBluetooth _support="_DB1" associatedwith="_identifiers"/>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<DescriptionRoom _support="DR1" identifier="identifiers1">
						<DescriptionBluetooth _support="DB1" associatedwith="identifiers1"/>
					</DescriptionRoom>
					<DescriptionBluetooth _support="DB2" associatedwith="identifiers2"/>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_DB1" target="DB2"/>
			<linkmatch pattern="_identifiers" target="identifiers2"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- edge non-merge non-match -->
	<test>
		<pattern>
			<bigraph>
				<!-- edge not outer name -->
				<edge id="_identifiers1"/>
				<root>
					<DescriptionBluetooth _support="_DB1" associatedwith="_identifiers1"/>
				</root>
				<root>
					<DescriptionBluetooth _support="_DB2" associatedwith="_identifiers2"/>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<DescriptionBluetooth _support="DB1" associatedwith="identifiers1"/>
					<DescriptionBluetooth _support="DB2" associatedwith="identifiers1"/>
				</root>
			</bigraph>
		</target>
		<!--  shouldn't match because edge would be merge with outer name -->
	</test>
	<!-- non-inner name ("hidden") (non-)match -->
	<test>
		<pattern>
			<bigraph>
				<!-- edge not outer name -->
				<hide id="_identifiers"/>
				<root>
					<DescriptionRoom _support="_DR1" identifier="_identifiers"/>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<DescriptionRoom _support="DR1" identifier="identifiers1">
						<DescriptionBluetooth _support="DB1" associatedwith="identifiers1"/>
					</DescriptionRoom>
					<DescriptionBluetooth _support="DB2" associatedwith="identifiers2"/>
					<DescriptionRoom _support="DR2" identifier="identifiers2"/>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_DR1" target="DR2"/>
			<linkmatch pattern="_identifiers" target="identifiers2"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- site debug -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalRoom _support="_PR1">
						<site index="0" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- site debug -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<site index="0" />
					<PhysicalRoom _support="_PR1">
						<site index="1" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
						<PhysicalHandheld _support="PH3"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PR1" target="PR1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- no-nesting of roots -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalRoom _support="_PR1">
						<site index="0" />
					</PhysicalRoom>
				</root>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="1" />
					</PhysicalHandheld>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
						<PhysicalHandheld _support="PH3"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PR1" target="PR1"/>
			<nodematch pattern="_PH1" target="PH1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- 14. no-nesting of roots (2) -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="1" />
					</PhysicalHandheld>
				</root>
				<root>
					<PhysicalRoom _support="_PR1">
						<site index="0" />
					</PhysicalRoom>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
						<PhysicalHandheld _support="PH3"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PR1" target="PR1"/>
			<nodematch pattern="_PH1" target="PH1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- 15. no-nesting of roots edge case -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<PhysicalHandheld _support="_PH1">
						<site index="0" />
					</PhysicalHandheld>
				</root>
				<root>
					<PhysicalHandheld _support="_PH2">
						<site index="1" />
					</PhysicalHandheld>
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
					<PhysicalRoom _support="PR1">
						<PhysicalHandheld _support="PH2"></PhysicalHandheld>
					</PhysicalRoom>
				</root>
			</bigraph>
		</target>
		<match>
			<nodematch pattern="_PH2" target="PH1"/>
			<nodematch pattern="_PH1" target="PH2"/>
			<!--  <linkmatch />  -->
		</match>
		<match>
			<nodematch pattern="_PH2" target="PH2"/>
			<nodematch pattern="_PH1" target="PH1"/>
			<!--  <linkmatch />  -->
		</match>
	</test>
	<!-- 16. Matching of whole prime - for placing -->
	<test>
		<pattern>
			<bigraph>
				<root>
					<site index="0" />
				</root>
				<root>
					<site index="1" />
				</root>
			</bigraph>
		</pattern>
		<target>
			<bigraph>
				<root>
					<PhysicalHandheld _support="PH1"></PhysicalHandheld>
				</root>
				<root>
					<PhysicalHandheld _support="PH2"></PhysicalHandheld>
				</root>
			</bigraph>
		</target>
		<match>
			<!--  <linkmatch />  -->
		</match>
	</test>
</tests>
